---
layout: page
title: Contaible
permalink: /contaible/
---

<h1> Cont<sup style="font-color:white; background-color: cornflowerblue">ai</sup>ble© </h1>

Cont<sup style="font-color:white; background-color: cornflowerblue">ai</sup>ble© by alectrico® es el desarrollo de una nueva forma de entender y usar la contabilidad usando herramientas de AI: Artificial Intelligence. Cont<sup style="font-color:white; background-color: cornflowerblue">ai</sup>ble© ha resuelto el problema de llevar la contabilidad exitosamente en los años 2020 y 2021 de la chilena empresa alectrico® spa.

La contabilidad es un método matemático para organizar el funcionamiento financiero y tributario de un negocio o empresa. Se puede llevar en cuadernos de papel como se fue costumbre en el siglo XX, pero la constubmre viene de muchos años antes y se remontan a su inventor Luca Paccioli. El sistema de Paccioli llega a Chile siendo conocida como contabilidad americana y en 2022 se conoce como Contabilida Completa. Sin querer ser exhaustivos al respecto de los términos de ese antiguo paradigma, podemos observar y contarle que hay un apego a estructuras que podemos lograr cuando escribimos en volúmenes físicos como los cuadernos. Es fácil reconocer qué significa llevar la contabilidad en un "Libro Diario" como el proceso de anotar todas las transacciones financieras lo más cercano al momento en que ocurran, en un cuaderno de papel, día tras día. En la práctica, es posible anotar brevemente a lapiz en un cuaderno en papel y al finalizar el día hacer ciertas comprobaciones para detectar y corregir los errores que pueda haber. 

El Libro Diario es el primer elemento importante de la contabilidad completa. Las transacciones en el libro diario pueden ser procesadas mensualmente para construir una estructura de información más global que solo contengan las totales de las transacciones anotadas en el Libro Diario. Esto se puede lograr escribiendo distinto en otro cuaderno llamado Libro de Mayor. El proceso de tomar las anotaciones del Libro Diario y de resumirlas en el Libro de Mayor es un paso crítico que requiere conocimientos importantes sobre leyes, negocios, finanzas y tributación. 

En el Libro de Mayor, las anotaciones del libro diario se dejan en forma simple pero efectivamente organizadas en estructuras que contienen cuentas y que por simplicidad se denominan de la misma forma: cuentas. Seamos un poco más específicos con esto: hemos encontrado en alectrico que una cuenta es una anotación en una de las tablas contradas en el libro diario, tal como son las cuentas de un collar con respecto al collar del que son parte. 

Una cuenta es el la unidad indivisible del conocimiento necesario para este sistema. Una cuenta puede ser vista hoy en día como un punto de datos de cualquier sistema de información. Sin embargo, en la práctica se habla de anotaciones en el DEBE o el HABER de una cuenta. En este texto respetaremos la forma clásica de hablar de las cuentas.


Pero hemos llegado al temas que nos interesa explicarle a Ud. El nuevo paradigma de Contaible es reemplazar la anotación en el libro diario por una unidad indivisible que sea capaz de disparar una regla en un Expert System.

Contaible es un Expert System que contiene conocimiento en la forma de reglas contables, financieras y tributarias suficientemente efectivas como para permitirle la generación de las partidas contables y de los Estados Financieros  en el momento en que Ud. lo requiera. Y que además permite el uso de todo conocimiento existente y que pueda agregarle posteriormente.

Para usar Contaible se require un software denominado máquina de inferencia. El expert system tiene la forma de un texto que se hacer pasar a través de la máquina de inferencia. El texto está escrito de tal forma que haya reglas de conocimiento que la máquina pueda entenderlas y encadenarlas junto con hechos que las disparen.

El método de Contabilidad para Necios es la concepción de un nuevo paradigma mediante el cual UD. no necesita preparar los Libros de Mayor y cualquier otro libro. Tampoco sus equivalentes informáticos. Con Contaible, Ud. prepara un texto indicando los hechos financieros que ocurran en su empresa. Estos hechos pueden ser de cualquier tipo, basta que se haya creado la regla correspondiente en Contabie para que se puedan procesar.

Los hechos en un Expert System se conocen como facts, usaremos esa vocablo cuando hablemos de los hechos financieros introducidos en Contaible, pero puede haber facts en Contaible relacionados con la operación propia del sistema así que para evitar confusiones, los hechos financieros que puedan ser procesados por Contaible los llamaremos kernels contables.

Los archivos con extension txt son archivos que Ud. debe modificar para hacer la contabilidad de su empresa. En particular el archivo alectrico-2021-facts.txt contiene los kernels contables de la empresa alectrico-2021. Ud. puede crear otro archivo con el nombre de su empresa y a seguir llenarlo con estos kerenls cotables. Luego en selecciones.txt debe indicar que la empresa que se ha de procesar es la suya.

Para disparar el sistema debe simplemente llamar a ./serve.sh. Esto se usa en linux para ejecutar comando en el shell del sistema operativo. En nuestro caso, se usará para generar todo las condiciones necesarias para construir un servidor que luego estará activo en la dirección 0.0.0.0:4000. Es todo. Si quiere ver su contabilidad solo tiene que hacer apuntar el browser hacia esta dirección.

Estos son ejemplos de kernels contables existentes en Contaible:

1. Rendición de boletas

```CLIPS
( rendicion-de-eboletas-sii
 ( partida 003)
 ( unidades 1)
 ( neto  29412)
 ( iva    5588 )
 ( total 35000)
 ( mes enero)
 ( ano 2021))
```

2. Costo de ventas

```CLIPS
( costo-ventas
 ( tipo-de-documento 33)
 ( folio 35258718)
 ( rut 96689310-9)
 ( partida 009)
 ( dia 3) (mes enero) (ano 2021)
 ( monto 1678) 
 ( neto  1678)
 ( iva    319)
 ( total 1997) 
 ( material comision-mensual)
 ( proveedor transbank)
 ( glosa "Por Costo Directo de Ventas: Comisión Pasarela diciembre Transbank")
 ( archivo "../factura-afecta-transbank-35258718.png")
 ( finalidad "División Eléctrica"))
```

3. Compra

```CLIPS
( compra
 ( pedido 1724)
 ( archivo "/factura-afecta-dartel-2927540.png")
 ( rut 96806110-0)
 ( tipo-de-documento 33)
 ( unidades 3)
 ( costo_unitario 7862)
 ( partida 016)
 ( dia 4) (mes febrero) (ano 2021)
 ( material caja-enchufe-506L)
 ( proveedor dartel)
 ( afecto true)
 ( credito 0)
 ( descuento 2831)
 ( neto  6607)
 ( iva   1255)
 ( total 7862)
 ( glosa "Por compra a Dartel Santiago de 3 cajas de enchufes 506L")
 ( finalidad "Materiales para reparaciones"))
```

4. Venta

```CLIPS
(venta-sii
 (folio 1)
 (rut 77201295-0)
 (partida 075)
 (dia 21) (mes julio) (ano 2021)
 (unidades 1)
 (costo_unitario 35000)
 (material revision-electrica)
 (neto 35000)
 (iva 0)
 (total 0)
 (colaborador gonzalo )
 (archivo "../factura-propia-exenta-1.png")
 (finalidad ""))
```

5. Ajuste de IVA

```CLIPS
(ajuste-de-iva (partida 014333)  (mes enero) (ano 2021) )
```

6. Ajustes Mensuales

```CLIPS
( ajustes-mensuales (mes enero) (ano 2021) (partida 131))
```

7. Liquidacion

```CLIPS
;partida para determinar el valor del período ----------------------------------------
(partida (numero 1004) (dia 31) (mes enero) (ano 2021)
 (empresa alectrico-2021)
 (descripcion "v/Para determinar el valor del resultado del período"))
(liquidacion (cuenta idpc)
  (partida 1004) (ano 2021)
  (liquidadora perdidas-y-ganancias))
(liquidacion (cuenta reserva-legal)
 (partida 1004) (ano 2021)
  (liquidadora perdidas-y-ganancias))
(liquidacion (cuenta utilidad)
  (partida 1004) (ano 2021)
  (liquidadora perdidas-y-ganancias))
```

8. Primitivas

```CLIPS
(partida
 (numero 001)
 (dia 1) (mes enero) (ano 2021)
 (descripcion "Por Inicio de Operaciones en 2021")
 (actividad ajuste))


(cargo
 ( electronico false)
 ( tipo-de-documento escritura-empresa)
 ( empresa alectrico-2021)
 ( cuenta caja)
 ( monto  1050209)
 ( partida 001)
 ( dia 1)  ( mes enero)  ( ano 2021)
 ( glosa asiento-inicial))

(cargo
 ( electronico false)
 ( tipo-de-documento escritura-empresa)
 ( empresa alectrico-2021)
 ( cuenta banco-estado)
 ( monto  691827)
 ( partida 001)
 ( dia 1) ( mes enero) ( ano 2021)
 ( glosa asiento-inicial))
```

Podemos decir que Contaible se las arregla para para dar el tratamiento contable necesario a cada hecho financiero.

Para ilustrar esto, podemos referir que el kernel costo-ventas considera un hecho financiero relacionado con la enajenación onerosa de un bien, que en la tributaria es un hecho-gravado-iva por lo que se incurre en la obligación de un pago al Fisco por 319 pesos, que en la jerga financiera es un egreso relacionado con otro hecho financiero llamado venta, lo que lo hace distino de un gasto, que su tratamiento en materia de impuesto de primera categoría es deducible de impuestos anuales a la renta. De acuerdo a su naturaleza de enajenación con contraprestación por 1997, se debe anotar 1678 en una cuenta de equivalentes-de-efectivo (bancos, caja) pero que se compensa parcialmente con una anotación en la cuenta costos-de.ventas. Con estas anotaciones Contaible puede incluirlo correctamente estos hechos financieros en los hechos financieros de estado de resultado y estado clasificado.

 ( neto  1678)
 ( iva    319)
 ( total 1997)

El kernal venta-sii refleja el hecho-gravado-iva pero en sentido inverso, su empresa entrega un bien a cambio de una contraprestación en equivalentes de efectivo. Las anotaciones ahora son en venta-con-factura-exenta que se deben equilibrar con caja. En este caso no se incurre en el hecho-gravado-iva, pero eso depende de la aprobación de nuevas leyes en los que sí lo sea. Por eso se deja la alternativo de anotar el IVA. El hecho financiero venta recibe el tratamiento de ingresos por lo que la cuenta de Ventas con Factura Exenta es una cuenta de resultados. Las cuentas y sus atributos se establecen a priori en un archivo llamado cuentas.txt. Contaible contempla el procesamiento de subcuentas a partir de la forma en que se definan en este archivo aunque algunas reglas pueden crear subcuentas durante la generación de la contabilidad.

El kernel venta-sii
 (neto 35000)
 (iva 0)


Los kernels ajuste-de-iva y ajustes-mensuales disparan procesamientos por lotes de los hechos financieros indivisibles con el fin de determinar el monto de las obligaciones impositivas mensuales como la confección de los formularios f-29 y dentro de ellos el tratamiento del remanente del IVA-Crédito.

Contaible genera archivos con extensión CSV para que se puedan ingresar los hechos financieros en el sistema de contabilidad completa del servicio de impuestos internos.


Los kernels denominados primitivas incluyen los bloques para que se pueda moldear un nuevo hecho contable para el que no existe a un kernel contable más elaborado como los de compra y venta. Con primitivas se pueden crear los asientos iniciales.

Contaible ha debido incorporar reglas importantes provenientes de la forma en que se lleva a cabo el tratamiento tributario. Así se contempla un archivo de revisiones a fin de rechazar aquellas partidas que no son aceptadas por impuestos internos y para llevar un control detallado de como se podría reflejar Contabile en un sistema de contabilidad completa en el servicio de impuestos internos.

La naturaleza de Contaible permite exlorar diferentes generaciones de contabilidad para la misma empresaasí como extenderse con kernels que abrevien el esfuerzo de digitación de nuevos hechos financieros. Se puede pensar en ingresar algo tan simple como una lista de compras y Contabile hará todo el resto.

Igualmente Contaible puede tener reglas para minimizar el pago de impuestos sin caer en los esquemas tributarios indicados por el Servicio de Impuestos Internos.

Debido a que los datos y el código para su procesamiento no están separados, la manteción de Contabile es relativamente simple, aunque se debe contar con un Ingeniero de Conocimiento para ello. Contaible prescinde de complicaciones para nuevas versiones esto permite contrarresar al efecto perverso de generación de nuevas leyes tributarias, no tiene sentido generar código inmutable si luego de un par de años las leyes te obligan a cambierlo so pena de que quede inservible.


Contabile no pretende reemplazar a contadores ni personal especializado, es una herramienta de ampliación de conocimiento que puede ser muy útil a un empresario que sepa contabilidad.


Ing. Alexander Espinosa MEng.


